<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="generator" content="pdoc3 0.11.1">
<title>gonioimsoft.camera_server API documentation</title>
<meta name="description" content="The camera server for using the camera and save images â€¦">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/sanitize.min.css" integrity="sha512-y1dtMcuvtTMJc1yPgEqF0ZjQbhnc/bFhyvIyVNb9Zk5mIGtqVaAB1Ttl28su8AvFMOY0EwRbAe+HCLqj6W7/KA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/typography.min.css" integrity="sha512-Y1DYSb995BAfxobCkKepB1BqJJTPrOp3zPL74AWFugHHmmdcvO+C48WLrUOlhGMc0QG7AE3f7gmvvcrmX2fDoA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:1.5em;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:2em 0 .50em 0}h3{font-size:1.4em;margin:1.6em 0 .7em 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .2s ease-in-out}a:visited{color:#503}a:hover{color:#b62}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900;font-weight:bold}pre code{font-size:.8em;line-height:1.4em;padding:1em;display:block}code{background:#f3f3f3;font-family:"DejaVu Sans Mono",monospace;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em 1em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul ul{padding-left:1em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => {
hljs.configure({languages: ['bash', 'css', 'diff', 'graphql', 'ini', 'javascript', 'json', 'plaintext', 'python', 'python-repl', 'rust', 'shell', 'sql', 'typescript', 'xml', 'yaml']});
hljs.highlightAll();
})</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>gonioimsoft.camera_server</code></h1>
</header>
<section id="section-intro">
<p>The camera server for using the camera and save images.</p>
<h2 id="functionality">Functionality</h2>
<ul>
<li>Image acquisition using Micro-Manager's Python bindings (pymmcore)</li>
<li>Live feed using matplotlib</li>
<li>File saving using the tifffile module</li>
</ul>
<h2 id="background">Background</h2>
<p>On Windows, MM builds came precompiled with Python 2 support only. The
camera server/client division here made it possible to run the server
calling MM using Python 2 (to control the camera and image saving) and
then the camera client run with Python 3.</p>
<p>It is still usefull; Because it uses (network) sockets, it is trivial
to use another (or multiple PC) to acqurie images. Or, in future, to
use another backends than MM.</p>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="gonioimsoft.camera_server.main"><code class="name flex">
<span>def <span class="ident">main</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.camera_server.test_camera"><code class="name flex">
<span>def <span class="ident">test_camera</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="gonioimsoft.camera_server.CameraBase"><code class="flex name class">
<span>class <span class="ident">CameraBase</span></span>
</code></dt>
<dd>
<div class="desc"><p>Base class for all cameras</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class CameraBase:
    &#39;&#39;&#39;Base class for all cameras
    &#39;&#39;&#39;
    
    def __init__(self): 
        self.settings = {
                &#39;exposure_time_scaler&#39;: 1,
                &#39;roi&#39;: None,
                &#39;binning&#39;: None}
        
        self.live_queue= False
        self.shower = ImageShower()

        # Description file string
        self.description_string = &#39;&#39;

        self.save_stack = False
        self.save_directory = None

        self._startdir = os.getcwd()

        self.title = &#39;Camera not set&#39;
        self.servertitle = &#39;&#39;

    def get_cameras(self):
        raise NotImplementedError

    def get_camera(self):
        raise NotImplementedError

    def set_camera(self):
        raise NotImplementedError

    def get_settings(self):
        excl = [&#39;roi&#39;, &#39;binning&#39;]
        return [s for s in list(self.settings.keys()) if s not in excl]

    def get_setting_type(self, setting_name):
        raise NotImplementedError

    def get_setting(self, setting_name):
        if setting_name in self.settings:
            return self.settings[setting_name]
        return &#39;&#39;

    def set_setting(self, setting_name, value):
        # a) Internal setting
        if setting_name in self.settings:
            self.settings[setting_name] = value
            return True
        return False
 
    def acquire_single(self, exposure_time, save, subdir):
        raise NotImplementedError


    def _post_acquire_single(self, image, metadata, save):
        
        if not self.live_queue:
            self.live_queue = multiprocessing.Queue()
            self.live_queue.put(
                    image[0::LIVE_DOWNSAMPLE, 0::LIVE_DOWNSAMPLE])
            
            self.livep = multiprocessing.Process(
                    target=self.shower.loop,
                    args=(self.live_queue,self.title))
            self.livep.start()
            
        self.live_queue.put(image[0::LIVE_DOWNSAMPLE, 0::LIVE_DOWNSAMPLE])

        if save == &#39;True&#39;:

            save_thread = threading.Thread(target=self.save_images,args=([image],&#39;snap_{}&#39;.format(start_time.replace(&#39;:&#39;,&#39;.&#39;).replace(&#39; &#39;,&#39;_&#39;)), metadata,os.path.join(self.save_directory, subdir)))
            save_thread.start()

    
    def _post_acquire_series(self, images, metadata, label):
        save_thread = threading.Thread(target=self.save_images, args=(images,label,metadata,os.path.join(self.save_directory, subdir)))
        save_thread.start()
 

    def save_images(self, images, label, metadata, savedir):
        &#39;&#39;&#39;
        Save given images as grayscale tiff images.
        &#39;&#39;&#39;
        savedir = os.path.join(self._startdir, savedir)
        if not os.path.isdir(savedir):
            try:
                os.makedirs(savedir)
            except:
                # May fail if many local servers creating
                # the folders simultaneously
                pass

        if self.save_stack == False:
            # Save separate images
            for i, image in enumerate(images):
                fn = &#39;{}_{}.tiff&#39;.format(label, i)
                tifffile.imwrite(os.path.join(savedir, fn), image, metadata=metadata)
        else:
            # Save a stack
            fn = &#39;{}_stack.tiff&#39;.format(label)
            tifffile.imwrite(os.path.join(savedir, fn), np.asarray(images), metadata=metadata)
        
        self.save_description(os.path.join(savedir, &#39;description&#39;), self.description_string, internal=True)


    def set_save_stack(self, boolean):
        &#39;&#39;&#39;
        If boolean == &#34;True&#34;, save images as stacks instead of separate images.
        &#39;&#39;&#39;
        if boolean == &#39;True&#39;:
            self.save_stack = True
        elif boolean == &#39;False&#39;:
            self.save_stack = False
        else:
            print(&#34;Did not understand wheter to save stacks. Given {}&#34;.format(boolean))

    def set_binning(self, binning):
        &#39;&#39;&#39;
        Binning &#39;2x2&#39; for example.
        &#39;&#39;&#39;
        self.settings[&#39;binning&#39;] =  binning


    def set_roi(self, x,y,w,h):
        &#39;&#39;&#39;
        In binned pixels
        roi     (x,y,w,h) or None
        &#39;&#39;&#39;
        x = int(x)
        y = int(y)
        w = int(w)
        h = int(h)
        
        if w == 0 or h==0:
            self.settings[&#39;roi&#39;] = None
        else:
            self.settings[&#39;roi&#39;] = [x,y,w,h]

    def save_description(self, specimen_name, desc_string, internal=False):
        &#39;&#39;&#39;
        Allows saving a small descriptive text file into the main saving directory.
        Filename should be the same as the folder where it&#39;s saved.

        Appends to the previous file.

        specimen_name           DrosoM42 for example, name of the specimen folder
        desc_string             String, what to write in the file
        internal                If true, specimen_name becomes filename of the file
        &#39;&#39;&#39;
        if internal:
            fn = specimen_name
        else:
            fn = os.path.join(self.save_directory, specimen_name, specimen_name)
        
        # Check if the folder exists
        if not os.path.exists(os.path.dirname(fn)):
            try:
                os.makedirs(os.path.dirname(fn), exist_ok=True)
            except:
                # My fail if many local servers. Let&#39;s not
                # care about it, another server has made it
                pass
        
        try:
            with open(fn+&#39;.txt&#39;, &#39;w&#39;) as fp:
                fp.write(desc_string)

            print(&#34;Wrote file &#34; + fn+&#39;.txt&#39;) 
        except:
            pass
        
        self.description_string = desc_string

    def close(self):
        if self.live_queue:
            self.live_queue.put(&#39;close&#39;)

    def wait_for_client(self):
        pass</code></pre>
</details>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="gonioimsoft.camera_server.DummyCamera" href="#gonioimsoft.camera_server.DummyCamera">DummyCamera</a></li>
<li><a title="gonioimsoft.camera_server.MMCamera" href="#gonioimsoft.camera_server.MMCamera">MMCamera</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="gonioimsoft.camera_server.CameraBase.acquire_single"><code class="name flex">
<span>def <span class="ident">acquire_single</span></span>(<span>self, exposure_time, save, subdir)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.camera_server.CameraBase.close"><code class="name flex">
<span>def <span class="ident">close</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.camera_server.CameraBase.get_camera"><code class="name flex">
<span>def <span class="ident">get_camera</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.camera_server.CameraBase.get_cameras"><code class="name flex">
<span>def <span class="ident">get_cameras</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.camera_server.CameraBase.get_setting"><code class="name flex">
<span>def <span class="ident">get_setting</span></span>(<span>self, setting_name)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.camera_server.CameraBase.get_setting_type"><code class="name flex">
<span>def <span class="ident">get_setting_type</span></span>(<span>self, setting_name)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.camera_server.CameraBase.get_settings"><code class="name flex">
<span>def <span class="ident">get_settings</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.camera_server.CameraBase.save_description"><code class="name flex">
<span>def <span class="ident">save_description</span></span>(<span>self, specimen_name, desc_string, internal=False)</span>
</code></dt>
<dd>
<div class="desc"><p>Allows saving a small descriptive text file into the main saving directory.
Filename should be the same as the folder where it's saved.</p>
<p>Appends to the previous file.</p>
<p>specimen_name
DrosoM42 for example, name of the specimen folder
desc_string
String, what to write in the file
internal
If true, specimen_name becomes filename of the file</p></div>
</dd>
<dt id="gonioimsoft.camera_server.CameraBase.save_images"><code class="name flex">
<span>def <span class="ident">save_images</span></span>(<span>self, images, label, metadata, savedir)</span>
</code></dt>
<dd>
<div class="desc"><p>Save given images as grayscale tiff images.</p></div>
</dd>
<dt id="gonioimsoft.camera_server.CameraBase.set_binning"><code class="name flex">
<span>def <span class="ident">set_binning</span></span>(<span>self, binning)</span>
</code></dt>
<dd>
<div class="desc"><p>Binning '2x2' for example.</p></div>
</dd>
<dt id="gonioimsoft.camera_server.CameraBase.set_camera"><code class="name flex">
<span>def <span class="ident">set_camera</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.camera_server.CameraBase.set_roi"><code class="name flex">
<span>def <span class="ident">set_roi</span></span>(<span>self, x, y, w, h)</span>
</code></dt>
<dd>
<div class="desc"><p>In binned pixels
roi
(x,y,w,h) or None</p></div>
</dd>
<dt id="gonioimsoft.camera_server.CameraBase.set_save_stack"><code class="name flex">
<span>def <span class="ident">set_save_stack</span></span>(<span>self, boolean)</span>
</code></dt>
<dd>
<div class="desc"><p>If boolean == "True", save images as stacks instead of separate images.</p></div>
</dd>
<dt id="gonioimsoft.camera_server.CameraBase.set_setting"><code class="name flex">
<span>def <span class="ident">set_setting</span></span>(<span>self, setting_name, value)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.camera_server.CameraBase.wait_for_client"><code class="name flex">
<span>def <span class="ident">wait_for_client</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="gonioimsoft.camera_server.CameraServer"><code class="flex name class">
<span>class <span class="ident">CameraServer</span></span>
<span>(</span><span>camera, port=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Camera server listens incoming connections from the client and
controls a camera class.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class CameraServer(ServerBase):
    &#39;&#39;&#39;Camera server listens incoming connections from the client and
    controls a camera class.
    &#39;&#39;&#39;

    def __init__(self, camera, port=None):
        
        if port is None:
            port = CAMERA_PORT
        
        super().__init__(&#39;&#39;, port, camera)
        
        
        print(f&#39;Using the camera &lt;{camera.__class__.__name__}&gt;&#39;)
        self.cam = self.device
        self.cam.servertitle = f&#39;Server on port {port}&#39;
        self.cam.wait_for_client = self.wait_for_client
        
        added_functions = {&#39;acquireSeries&#39;: self.cam.acquire_series,
                          &#39;acquireSingle&#39;: self.cam.acquire_single,
                          &#39;saveDescription&#39;: self.cam.save_description,
                          &#39;set_roi&#39;: self.cam.set_roi,
                          &#39;set_save_stack&#39;: self.cam.set_save_stack,
                          &#39;get_cameras&#39;: self.cam.get_cameras,
                          &#39;get_camera&#39;: self.cam.get_camera,
                          &#39;set_camera&#39;: self.cam.set_camera,
                          &#39;get_settings&#39;: self.cam.get_settings,
                          &#39;get_setting_type&#39;: self.cam.get_setting_type,
                          &#39;get_setting&#39;: self.cam.get_setting,
                          &#39;set_setting&#39;: self.cam.set_setting,
                          }

        self.functions = {**self.functions, **added_functions}

        self.responders.extend(
                [&#39;get_cameras&#39;, &#39;get_camera&#39;, &#39;get_settings&#39;,
                 &#39;get_setting_type&#39;, &#39;get_setting&#39;]
                )</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="gonioimsoft.serverbase.ServerBase" href="serverbase.html#gonioimsoft.serverbase.ServerBase">ServerBase</a></li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="gonioimsoft.serverbase.ServerBase" href="serverbase.html#gonioimsoft.serverbase.ServerBase">ServerBase</a></b></code>:
<ul class="hlist">
<li><code><a title="gonioimsoft.serverbase.ServerBase.exit" href="serverbase.html#gonioimsoft.serverbase.ServerBase.exit">exit</a></code></li>
<li><code><a title="gonioimsoft.serverbase.ServerBase.ping" href="serverbase.html#gonioimsoft.serverbase.ServerBase.ping">ping</a></code></li>
<li><code><a title="gonioimsoft.serverbase.ServerBase.pong" href="serverbase.html#gonioimsoft.serverbase.ServerBase.pong">pong</a></code></li>
<li><code><a title="gonioimsoft.serverbase.ServerBase.run" href="serverbase.html#gonioimsoft.serverbase.ServerBase.run">run</a></code></li>
<li><code><a title="gonioimsoft.serverbase.ServerBase.set_save_directory" href="serverbase.html#gonioimsoft.serverbase.ServerBase.set_save_directory">set_save_directory</a></code></li>
<li><code><a title="gonioimsoft.serverbase.ServerBase.wait_for_client" href="serverbase.html#gonioimsoft.serverbase.ServerBase.wait_for_client">wait_for_client</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="gonioimsoft.camera_server.DummyCamera"><code class="flex name class">
<span>class <span class="ident">DummyCamera</span></span>
</code></dt>
<dd>
<div class="desc"><p>A dummy camera suitable for testing the server/client.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class DummyCamera(CameraBase):
    &#39;&#39;&#39;A dummy camera suitable for testing the server/client.
    &#39;&#39;&#39;
    def __init__(self):
        super().__init__()
        self.settings = {&#39;setting1&#39; : &#39;na&#39;, &#39;setting2&#39;: 0.0, &#39;setting3&#39;: 1}
        self.camera = None

    def acquire_single(self, exposure_time, save, subdir):
        start_time = str(datetime.datetime.now())
        image = np.random.randint(0,2**10-1, (512,512))
        
        metadata = {&#39;exposure_time_s&#39;: exposure_time,
                    &#39;function&#39;: &#39;acquireSingle-dummy&#39;,
                    &#39;start_time&#39;: start_time}
        self._post_acquire_single(image, metadata, save)
 
        
    def acquire_series(self, exposure_time, image_interval, N_frames, label, subdir):
        
        start_time = str(datetime.datetime.now())
        images = [np.random.randint(0,2**10-1, (512,512)) for i in range(10)]
        
        metadata = {&#39;exposure_time_s&#39;: exposure_time,
                    &#39;image_interval_s&#39;: image_interval,
                    &#39;N_frames&#39;: N_frames,
                    &#39;label&#39;: label,
                    &#39;function&#39;: &#39;acquireSeries-dummy&#39;,
                    &#39;start_time&#39;: start_time}
        metadata.update(self.settings)
        self._post_acquire_series(images, metadata, label) 

    def get_cameras(self):
        return [&#39;dummy1&#39;, &#39;dummy2&#39;]
    def get_camera(self):
        return self.camera
    def set_camera(self, name):
        self.camera = name
    def get_setting_type(self, setting_name):
        base = super().get_setting_type()
        if base:
            return base
        elif setting_name == &#39;setting1&#39;:
            return &#39;string&#39;
        elif setting_name == &#39;setting2&#39;:
            return &#39;float&#39;
        elif setting_name == &#39;setting3&#39;:
            return &#39;integer&#39;
        else:
            print(&#39;Invalid setting&#39;)
            return &#39;&#39;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="gonioimsoft.camera_server.CameraBase" href="#gonioimsoft.camera_server.CameraBase">CameraBase</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="gonioimsoft.camera_server.DummyCamera.acquire_series"><code class="name flex">
<span>def <span class="ident">acquire_series</span></span>(<span>self, exposure_time, image_interval, N_frames, label, subdir)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.camera_server.DummyCamera.acquire_single"><code class="name flex">
<span>def <span class="ident">acquire_single</span></span>(<span>self, exposure_time, save, subdir)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.camera_server.DummyCamera.get_camera"><code class="name flex">
<span>def <span class="ident">get_camera</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.camera_server.DummyCamera.get_cameras"><code class="name flex">
<span>def <span class="ident">get_cameras</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.camera_server.DummyCamera.get_setting_type"><code class="name flex">
<span>def <span class="ident">get_setting_type</span></span>(<span>self, setting_name)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.camera_server.DummyCamera.set_camera"><code class="name flex">
<span>def <span class="ident">set_camera</span></span>(<span>self, name)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="gonioimsoft.camera_server.CameraBase" href="#gonioimsoft.camera_server.CameraBase">CameraBase</a></b></code>:
<ul class="hlist">
<li><code><a title="gonioimsoft.camera_server.CameraBase.save_description" href="#gonioimsoft.camera_server.CameraBase.save_description">save_description</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.save_images" href="#gonioimsoft.camera_server.CameraBase.save_images">save_images</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.set_binning" href="#gonioimsoft.camera_server.CameraBase.set_binning">set_binning</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.set_roi" href="#gonioimsoft.camera_server.CameraBase.set_roi">set_roi</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.set_save_stack" href="#gonioimsoft.camera_server.CameraBase.set_save_stack">set_save_stack</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="gonioimsoft.camera_server.ImageShower"><code class="flex name class">
<span>class <span class="ident">ImageShower</span></span>
</code></dt>
<dd>
<div class="desc"><p>Shows images on the screen in its own window.</p>
<p>In future, may be used to select ROIs as well to allow
higher frame rate imaging / less data.</p>
<hr>
<h2 id="working-principle">Working Principle</h2>
<p>Image shower works so that self.loop is started as a separate process
using multiprocessing library</p>
<hr>
<h2 id="methods">Methods</h2>
<p>self.loop
Set this as multiprocessing target</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ImageShower:
    &#39;&#39;&#39;Shows images on the screen in its own window.

    In future, may be used to select ROIs as well to allow
    higher frame rate imaging / less data.
    
    ------------------
    Working principle
    ------------------
    Image shower works so that self.loop is started as a separate process
    using multiprocessing library
    
    -------
    Methods
    -------
    self.loop       Set this as multiprocessing target
    &#39;&#39;&#39;
    def __init__(self):
        self.fig = plt.figure()
        self.ax = self.fig.add_subplot(111)
        self.close = False

        #self.cid = self.fig.canvas.mpl_connect(&#39;key_press_event&#39;, self.callbackButtonPressed)
        
        self.image_brightness = 0
        self.image_maxval = 1

        self.selection = None

        self.image_size = None

    def callbackButtonPressed(self, event):
        
        if event.key == &#39;r&#39;:
            self.image_maxval -= 0.05
            self._updateImage(strong=True)
        
        elif event.key == &#39;t&#39;:
            self.image_maxval += 0.05
            self._updateImage(strong=True)

            

    def __onSelectRectangle(self, eclick, erelease):
        
        # Get selection box coordinates and set the box inactive
        x1, y1 = eclick.xdata, eclick.ydata
        x2, y2 = erelease.xdata, erelease.ydata
        #self.rectangle.set_active(False)
        
        x = int(min((x1, x2)))
        y = int(min((y1, y2)))
        width = int(abs(x2-x1))
        height = int(abs(y2-y1))
        
        self.selection = [x, y, width, height]
        
    def _updateImage(self, i):
        
        data = None
        while not self.queue.empty():
            # Get the latest image in the queue
            data = self.queue.get(True, timeout=0.01)
        if data is None:
            return self.im, &#39;&#39;
        elif isinstance(data, str) and data == &#39;close&#39;:
            self.close = True
            return self.im, &#39;&#39;

        if self.selection and data.size != self.image_size:
            self.selection = None

        if self.selection:
            x,y,w,h = self.selection
            if w&lt;1 or h&lt;1:
                # If selection box empty (accidental click on the image)
                # use the whole image instead
                inspect_area = data
            else:
                inspect_area = data[y:y+h, x:x+w]
        else:
            inspect_area = data
        
        
        per95 = np.percentile(inspect_area, 95)
        per5 = np.percentile(inspect_area, 5)
        data = np.clip(data, per5, per95)
        
        data -= per5
        data /= (per95-per5)

        self.image_size = data.size
        
        self.im.set_array(data)
        self.fig.suptitle(&#39;Selection 95th percentile: {}&#39;.format(per95), fontsize=10)
        text = &#39;&#39;
        return self.im, text
           
         
    def loop(self, queue, title):
        &#39;&#39;&#39;
        Runs the ImageShower by reading images from the given queue.
        Set this as a multiprocessing target.

        queue           Multiprocessing queue with a get method.
        &#39;&#39;&#39;
        self.queue = queue
        self.rectangle = RectangleSelector(self.ax, self.__onSelectRectangle, useblit=True)
        
        image = queue.get()
        self.im = plt.imshow(1000*image/np.max(image), cmap=&#39;gray&#39;, vmin=0, vmax=1, interpolation=&#39;none&#39;, aspect=&#39;auto&#39;)
        self.ani = FuncAnimation(plt.gcf(), self._updateImage, frames=range(100), interval=50, blit=False)

        self.fig.canvas.toolbar.winfo_toplevel().title(title)

        # Remove the toolbar; Gives more space when having many cameras
        self.fig.canvas.toolbar.pack_forget()
        
        # Take away all white space
        plt.subplots_adjust(top=1, bottom=0, right=1,left=0,
                            hspace=0, wspace=0)
        
        plt.show(block=True)</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="gonioimsoft.camera_server.ImageShower.callbackButtonPressed"><code class="name flex">
<span>def <span class="ident">callbackButtonPressed</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.camera_server.ImageShower.loop"><code class="name flex">
<span>def <span class="ident">loop</span></span>(<span>self, queue, title)</span>
</code></dt>
<dd>
<div class="desc"><p>Runs the ImageShower by reading images from the given queue.
Set this as a multiprocessing target.</p>
<p>queue
Multiprocessing queue with a get method.</p></div>
</dd>
</dl>
</dd>
<dt id="gonioimsoft.camera_server.MMCamera"><code class="flex name class">
<span>class <span class="ident">MMCamera</span></span>
</code></dt>
<dd>
<div class="desc"><p>Controls any camera using MicroManager and its pymmcore bindings.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class MMCamera(CameraBase):
    &#39;&#39;&#39;Controls any camera using MicroManager and its pymmcore bindings.
    &#39;&#39;&#39;

    def __init__(self):
        super().__init__()

        self.mmc = pymmcore.CMMCore() 
        self.mmc.setDeviceAdapterSearchPaths([DEFAULT_MICROMANAGER_DIR])

        self._device_name = None
        self._configuration_name = &#39;&#39;

        #self.mmc.loadDevice(&#39;Camera&#39;, &#39;HamamatsuHam&#39;, &#39;HamamatsuHam_DCAM&#39;)
        #self.mmc.initializeAllDevices()
        #self.mmc.setCameraDevice(&#39;Camera&#39;)
        #self.mmc.setCircularBufferMemoryFootprint(4000)

    def get_cameras(self):
        &#39;&#39;&#39;Lists available MicroManager configuration files in .
        &#39;&#39;&#39;
        return [fn for fn in os.listdir(DEFAULT_MICROMANAGER_DIR) if fn.endswith(&#39;.cfg&#39;)]

    def get_camera(self):
        &#39;&#39;&#39;Returns the label of the current camera.
        &#39;&#39;&#39;
        return self._configuration_name

    def set_camera(self, name):
        &#39;&#39;&#39;Set the provided configuration file.
        &#39;&#39;&#39;
        if not os.path.exists(name):
            path = os.path.join(DEFAULT_MICROMANAGER_DIR, name)
            
            if not os.path.exists(path):
                print(f&#39;Couldnt open configuration file named: {path}&#39;)
                return

        self.mmc.loadSystemConfiguration(path)
        
        self._device_name = self.mmc.getCameraDevice()
        self._configuration_name = name
        self.mmc.prepareSequenceAcquisition(self._device_name)

        self.title = f&#39;{name} ({self._device_name}) | {self.servertitle}&#39;


    def get_settings(self):
        &#39;&#39;&#39;Returns device property names
        &#39;&#39;&#39;
        own_settings = super().get_settings()

        if self._device_name is None:
            return &#39;&#39;

        properties = self.mmc.getDevicePropertyNames(self._device_name)
        
        return list(properties) + own_settings


    def get_setting_type(self, setting_name):
        &#39;&#39;&#39;Returns &#34;string&#34;, &#34;integer&#34; or &#34;float&#34;.

        Returns an empty string if the setting does not exist.
        &#39;&#39;&#39;
        if setting_name in self.settings:
            return &#39;float&#39;

        try:
            num = self.mmc.getPropertyType(self._device_name, setting_name)
        except RuntimeError as e:
            print(f&#39;Error! No setting named: {setting_name}&#39;)
            return &#39;&#39;
        
        if num == 1:
            return &#39;string&#39;
        elif num == 2:
            return &#39;float&#39;
        elif num == 3:
            return &#39;integer&#39;


    def get_setting(self, setting_name):
        base = super().get_setting(setting_name)
        if base is not None:
            return base
        return self.mmc.getProperty(self._device_name, setting_name)


    def set_setting(self, setting_name, value):
        
        # a) Internal setting
        if super().set_setting(setting_name, value):
            return

        # b) Camera device setting
        type_name = self.get_setting_type(setting_name)
        if type_name == &#39;float&#39;:
            value = float(value)
        elif type_name == &#39;integer&#39;:
            value = int(value)
        elif type_name == &#39;&#39;:
            print(&#39;Error! No setting named: {setting_name}&#39;)
            return

        print(f&#39;Changing {setting_name} to its new value {value}&#39;)
        try:
            self.mmc.setProperty(self._device_name, setting_name, value)
        except RuntimeError as e:
            print(&#39;Error! The set value likely out of range.&#39;)
            print(e)


    def acquire_single(self, exposure_time, save, subdir):
        &#39;&#39;&#39;
        Acquire a single image.

        save        &#39;True&#39; or &#39;False&#39;
        subdir      Subdirectory for saving
        &#39;&#39;&#39;
        
        exposure_time = float(exposure_time)
        self.mmc.setExposure(exposure_time*1000)
        #binning = &#39;2x2&#39;

        #self.set_binning(binning)

        start_time = str(datetime.datetime.now())
 
        self.mmc.snapImage()
        image = self.mmc.getImage()
        
        metadata = {&#39;exposure_time_s&#39;: exposure_time, &#39;function&#39;: &#39;acquireSingle&#39;, &#39;start_time&#39;: start_time}
        self._post_acquire_single(image, metadata, save)


    def acquire_series(self, exposure_time, image_interval, N_frames, label, subdir):
        &#39;&#39;&#39;
        Acquire a series of images

        exposure_time       How many seconds to expose each image
        image_interval      How many seconds to wait in between the exposures
        N_frames            How many images to take
        label               Label for saving the images (part of the filename later)
        subdir
        &#39;&#39;&#39;

        exposure_time = float(exposure_time)
        image_interval = float(image_interval)
        N_frames = int(N_frames)
        label = str(label)

        print(&#34;Now aquire_series with label &#34; + label)
        print(&#34;- IMAGING PARAMETERS -&#34;)
        print(&#34; exposure time &#34; + str(exposure_time) + &#34; seconds&#34;)
        print(&#34; image interval &#34; + str(image_interval) + &#34; seconds&#34;)
        print(&#34; N_frames &#34; + str(N_frames))
        print(&#34;- CAMERA SETTINGS&#34;)

        #self.set_binning(&#39;2x2&#39;)
        #print(&#34; Pixel binning 2x2&#34;)
        
        device_name = self.mmc.getDeviceName(self._device_name)
        print(f&#39;Device name {device_name}&#39;)

        #if &#39;hamamatsu&#39; in device_name.lower():
        #    if trigger_direction == &#39;send&#39;:
        #        print(&#34; Camera sending a trigger pulse&#34;)
        #        self.mmc.setProperty(self._device_name, &#34;OUTPUT TRIGGER KIND[0]&#34;,&#34;EXPOSURE&#34;)
        #        self.mmc.setProperty(self._device_name, &#34;OUTPUT TRIGGER POLARITY[0]&#34;,&#34;NEGATIVE&#34;)
        #    elif trigger_direction== &#39;receive&#39;:
        #        print(&#34; Camera recieving / waiting for a trigger pulse&#34;)
        #        self.mmc.setProperty(self._device_name, &#34;TRIGGER SOURCE&#34;,&#34;EXTERNAL&#34;)
        #        self.mmc.setProperty(self._device_name, &#34;TriggerPolarity&#34;,&#34;POSITIVE&#34;)
        #    elif trigger_direction == &#39;none&#39;:
        #        pass
        #    else:
        #        raise ValueError(&#39;trigger_direction has to be send, receive or none, not {trigger_direction}&#39;)

        
        print(&#34;Circular buffer &#34; + str(self.mmc.getCircularBufferMemoryFootprint()) + &#34; MB&#34;)

        scaler = float(self.settings[&#39;exposure_time_scaler&#39;])
        exposure = scaler*exposure_time*1000
        self.mmc.setExposure(exposure)

        self.mmc.clearCircularBuffer()
        #self.mmc.prepareSequenceAcquisition(self._device_name)
        self.wait_for_client()
        
        start_time = str(datetime.datetime.now())
        self.mmc.startSequenceAcquisition(N_frames, image_interval+(1-scaler)*exposure, False)
        
        while self.mmc.isSequenceRunning():
            self.mmc.sleep(1000*exposure_time)

        self.mmc.sleep(1000)

        images = []

        for i in range(N_frames):
            while True:
                try:
                    image = self.mmc.popNextImage()
                    break
                except:
                    # Index error for example when circular buffer is still empty
                    self.mmc.sleep(1000*exposure_time)
            images.append(image)
            
        metadata = {&#39;exposure_time_s&#39;: exposure_time, &#39;image_interval_s&#39;: image_interval,
                    &#39;N_frames&#39;: N_frames, &#39;label&#39;: label, &#39;function&#39;: &#39;acquireSeries&#39;, &#39;start_time&#39;: start_time}
        metadata.update(self.settings)


        self._post_acquire_series(images, metadata, label)
       
        #if &#39;hamamatsu&#39; in device_name.lower() and trigger_direction == &#39;receive&#39;:
        #    self.mmc.setProperty(self._device_name, &#34;TRIGGER SOURCE&#34;,&#34;INTERNAL&#34;)
        
        print(&#39;acquired&#39;)

    def set_binning(self, binning):
        &#39;&#39;&#39;
        Binning &#39;2x2&#39; for example.
        &#39;&#39;&#39;
        if not self.settings[&#39;binning&#39;] == binning:
            self.mmc.setProperty(self._device_name, &#39;Binning&#39;, binning)
        super().set_binning(binning)

    def set_roi(self, x,y,w,h):
        &#39;&#39;&#39;
        In binned pixels
        roi     (x,y,w,h) or None
        &#39;&#39;&#39;
        super().set_roi(x,y,w,h)
        x = int(x)
        y = int(y)
        w = int(w)
        h = int(h)
        
        if w == 0 or h==0:
            self.mmc.clearROI()
        else:
            self.mmc.setROI(x,y,w,h)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="gonioimsoft.camera_server.CameraBase" href="#gonioimsoft.camera_server.CameraBase">CameraBase</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="gonioimsoft.camera_server.MMCamera.acquire_series"><code class="name flex">
<span>def <span class="ident">acquire_series</span></span>(<span>self, exposure_time, image_interval, N_frames, label, subdir)</span>
</code></dt>
<dd>
<div class="desc"><p>Acquire a series of images</p>
<p>exposure_time
How many seconds to expose each image
image_interval
How many seconds to wait in between the exposures
N_frames
How many images to take
label
Label for saving the images (part of the filename later)
subdir</p></div>
</dd>
<dt id="gonioimsoft.camera_server.MMCamera.acquire_single"><code class="name flex">
<span>def <span class="ident">acquire_single</span></span>(<span>self, exposure_time, save, subdir)</span>
</code></dt>
<dd>
<div class="desc"><p>Acquire a single image.</p>
<p>save
'True' or 'False'
subdir
Subdirectory for saving</p></div>
</dd>
<dt id="gonioimsoft.camera_server.MMCamera.get_camera"><code class="name flex">
<span>def <span class="ident">get_camera</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Returns the label of the current camera.</p></div>
</dd>
<dt id="gonioimsoft.camera_server.MMCamera.get_cameras"><code class="name flex">
<span>def <span class="ident">get_cameras</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Lists available MicroManager configuration files in .</p></div>
</dd>
<dt id="gonioimsoft.camera_server.MMCamera.get_setting"><code class="name flex">
<span>def <span class="ident">get_setting</span></span>(<span>self, setting_name)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.camera_server.MMCamera.get_setting_type"><code class="name flex">
<span>def <span class="ident">get_setting_type</span></span>(<span>self, setting_name)</span>
</code></dt>
<dd>
<div class="desc"><p>Returns "string", "integer" or "float".</p>
<p>Returns an empty string if the setting does not exist.</p></div>
</dd>
<dt id="gonioimsoft.camera_server.MMCamera.get_settings"><code class="name flex">
<span>def <span class="ident">get_settings</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Returns device property names</p></div>
</dd>
<dt id="gonioimsoft.camera_server.MMCamera.set_camera"><code class="name flex">
<span>def <span class="ident">set_camera</span></span>(<span>self, name)</span>
</code></dt>
<dd>
<div class="desc"><p>Set the provided configuration file.</p></div>
</dd>
<dt id="gonioimsoft.camera_server.MMCamera.set_setting"><code class="name flex">
<span>def <span class="ident">set_setting</span></span>(<span>self, setting_name, value)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="gonioimsoft.camera_server.CameraBase" href="#gonioimsoft.camera_server.CameraBase">CameraBase</a></b></code>:
<ul class="hlist">
<li><code><a title="gonioimsoft.camera_server.CameraBase.save_description" href="#gonioimsoft.camera_server.CameraBase.save_description">save_description</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.save_images" href="#gonioimsoft.camera_server.CameraBase.save_images">save_images</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.set_binning" href="#gonioimsoft.camera_server.CameraBase.set_binning">set_binning</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.set_roi" href="#gonioimsoft.camera_server.CameraBase.set_roi">set_roi</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.set_save_stack" href="#gonioimsoft.camera_server.CameraBase.set_save_stack">set_save_stack</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<a href='../index.html'><- Back to All Docs</a><br>
<a href="javascript:history.back()"><- Back one page</a>
<div class="toc">
<ul>
<li><a href="#functionality">Functionality</a></li>
<li><a href="#background">Background</a></li>
</ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="gonioimsoft" href="index.html">gonioimsoft</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="gonioimsoft.camera_server.main" href="#gonioimsoft.camera_server.main">main</a></code></li>
<li><code><a title="gonioimsoft.camera_server.test_camera" href="#gonioimsoft.camera_server.test_camera">test_camera</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="gonioimsoft.camera_server.CameraBase" href="#gonioimsoft.camera_server.CameraBase">CameraBase</a></code></h4>
<ul class="two-column">
<li><code><a title="gonioimsoft.camera_server.CameraBase.acquire_single" href="#gonioimsoft.camera_server.CameraBase.acquire_single">acquire_single</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.close" href="#gonioimsoft.camera_server.CameraBase.close">close</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.get_camera" href="#gonioimsoft.camera_server.CameraBase.get_camera">get_camera</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.get_cameras" href="#gonioimsoft.camera_server.CameraBase.get_cameras">get_cameras</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.get_setting" href="#gonioimsoft.camera_server.CameraBase.get_setting">get_setting</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.get_setting_type" href="#gonioimsoft.camera_server.CameraBase.get_setting_type">get_setting_type</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.get_settings" href="#gonioimsoft.camera_server.CameraBase.get_settings">get_settings</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.save_description" href="#gonioimsoft.camera_server.CameraBase.save_description">save_description</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.save_images" href="#gonioimsoft.camera_server.CameraBase.save_images">save_images</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.set_binning" href="#gonioimsoft.camera_server.CameraBase.set_binning">set_binning</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.set_camera" href="#gonioimsoft.camera_server.CameraBase.set_camera">set_camera</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.set_roi" href="#gonioimsoft.camera_server.CameraBase.set_roi">set_roi</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.set_save_stack" href="#gonioimsoft.camera_server.CameraBase.set_save_stack">set_save_stack</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.set_setting" href="#gonioimsoft.camera_server.CameraBase.set_setting">set_setting</a></code></li>
<li><code><a title="gonioimsoft.camera_server.CameraBase.wait_for_client" href="#gonioimsoft.camera_server.CameraBase.wait_for_client">wait_for_client</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="gonioimsoft.camera_server.CameraServer" href="#gonioimsoft.camera_server.CameraServer">CameraServer</a></code></h4>
</li>
<li>
<h4><code><a title="gonioimsoft.camera_server.DummyCamera" href="#gonioimsoft.camera_server.DummyCamera">DummyCamera</a></code></h4>
<ul class="two-column">
<li><code><a title="gonioimsoft.camera_server.DummyCamera.acquire_series" href="#gonioimsoft.camera_server.DummyCamera.acquire_series">acquire_series</a></code></li>
<li><code><a title="gonioimsoft.camera_server.DummyCamera.acquire_single" href="#gonioimsoft.camera_server.DummyCamera.acquire_single">acquire_single</a></code></li>
<li><code><a title="gonioimsoft.camera_server.DummyCamera.get_camera" href="#gonioimsoft.camera_server.DummyCamera.get_camera">get_camera</a></code></li>
<li><code><a title="gonioimsoft.camera_server.DummyCamera.get_cameras" href="#gonioimsoft.camera_server.DummyCamera.get_cameras">get_cameras</a></code></li>
<li><code><a title="gonioimsoft.camera_server.DummyCamera.get_setting_type" href="#gonioimsoft.camera_server.DummyCamera.get_setting_type">get_setting_type</a></code></li>
<li><code><a title="gonioimsoft.camera_server.DummyCamera.set_camera" href="#gonioimsoft.camera_server.DummyCamera.set_camera">set_camera</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="gonioimsoft.camera_server.ImageShower" href="#gonioimsoft.camera_server.ImageShower">ImageShower</a></code></h4>
<ul class="">
<li><code><a title="gonioimsoft.camera_server.ImageShower.callbackButtonPressed" href="#gonioimsoft.camera_server.ImageShower.callbackButtonPressed">callbackButtonPressed</a></code></li>
<li><code><a title="gonioimsoft.camera_server.ImageShower.loop" href="#gonioimsoft.camera_server.ImageShower.loop">loop</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="gonioimsoft.camera_server.MMCamera" href="#gonioimsoft.camera_server.MMCamera">MMCamera</a></code></h4>
<ul class="two-column">
<li><code><a title="gonioimsoft.camera_server.MMCamera.acquire_series" href="#gonioimsoft.camera_server.MMCamera.acquire_series">acquire_series</a></code></li>
<li><code><a title="gonioimsoft.camera_server.MMCamera.acquire_single" href="#gonioimsoft.camera_server.MMCamera.acquire_single">acquire_single</a></code></li>
<li><code><a title="gonioimsoft.camera_server.MMCamera.get_camera" href="#gonioimsoft.camera_server.MMCamera.get_camera">get_camera</a></code></li>
<li><code><a title="gonioimsoft.camera_server.MMCamera.get_cameras" href="#gonioimsoft.camera_server.MMCamera.get_cameras">get_cameras</a></code></li>
<li><code><a title="gonioimsoft.camera_server.MMCamera.get_setting" href="#gonioimsoft.camera_server.MMCamera.get_setting">get_setting</a></code></li>
<li><code><a title="gonioimsoft.camera_server.MMCamera.get_setting_type" href="#gonioimsoft.camera_server.MMCamera.get_setting_type">get_setting_type</a></code></li>
<li><code><a title="gonioimsoft.camera_server.MMCamera.get_settings" href="#gonioimsoft.camera_server.MMCamera.get_settings">get_settings</a></code></li>
<li><code><a title="gonioimsoft.camera_server.MMCamera.set_camera" href="#gonioimsoft.camera_server.MMCamera.set_camera">set_camera</a></code></li>
<li><code><a title="gonioimsoft.camera_server.MMCamera.set_setting" href="#gonioimsoft.camera_server.MMCamera.set_setting">set_setting</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.11.1</a>.</p>
</footer>
</body>
</html>
