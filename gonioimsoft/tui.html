<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="generator" content="pdoc3 0.11.1">
<title>gonioimsoft.tui API documentation</title>
<meta name="description" content="Terminal user interface for GonioImsoft â€¦">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/sanitize.min.css" integrity="sha512-y1dtMcuvtTMJc1yPgEqF0ZjQbhnc/bFhyvIyVNb9Zk5mIGtqVaAB1Ttl28su8AvFMOY0EwRbAe+HCLqj6W7/KA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/typography.min.css" integrity="sha512-Y1DYSb995BAfxobCkKepB1BqJJTPrOp3zPL74AWFugHHmmdcvO+C48WLrUOlhGMc0QG7AE3f7gmvvcrmX2fDoA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:1.5em;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:2em 0 .50em 0}h3{font-size:1.4em;margin:1.6em 0 .7em 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .2s ease-in-out}a:visited{color:#503}a:hover{color:#b62}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900;font-weight:bold}pre code{font-size:.8em;line-height:1.4em;padding:1em;display:block}code{background:#f3f3f3;font-family:"DejaVu Sans Mono",monospace;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em 1em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul ul{padding-left:1em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => {
hljs.configure({languages: ['bash', 'css', 'diff', 'graphql', 'ini', 'javascript', 'json', 'plaintext', 'python', 'python-repl', 'rust', 'shell', 'sql', 'typescript', 'xml', 'yaml']});
hljs.highlightAll();
})</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>gonioimsoft.tui</code></h1>
</header>
<section id="section-intro">
<p>Terminal user interface for GonioImsoft.</p>
<p>It uses a GonioImsoftCore instance to manage the experiments and
libtui.SimpleTUI to make the user interface.</p>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="gonioimsoft.tui.main"><code class="name flex">
<span>def <span class="ident">main</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="gonioimsoft.tui.Console"><code class="flex name class">
<span>class <span class="ident">Console</span></span>
<span>(</span><span>core)</span>
</code></dt>
<dd>
<div class="desc"><p>A command console for the terminal user interface.</p>
<p>This console allows inputting commands with arguments.
Needed, when simple keyboard shortcuts are not enough.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>core</code></strong> :&ensp;<code>obj</code></dt>
<dd>The GonioImsoftCore instance that this console operates on.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Console:
    &#39;&#39;&#39;A command console for the terminal user interface.
    
    This console allows inputting commands with arguments.
    Needed, when simple keyboard shortcuts are not enough.

    Attributes
    ----------
    core : obj
        The GonioImsoftCore instance that this console operates on.
    &#39;&#39;&#39;
    def __init__(self, core):
        self.core = core


    def enter(self, user_input):
        &#39;&#39;&#39;Parses the user input and runs the command.
        &#39;&#39;&#39;
        command_name = user_input.split(&#39; &#39;)[0]
        args = user_input.split(&#39; &#39;)[1:]

        if hasattr(self, command_name):
            method = getattr(self, command_name)
            try:
                method(*args)
            except TypeError as e:
                print(e)
                self.help()
        else:
            print(&#39;Command {} does not exist&#39;.format(command_name))
            self.help()
    

    def help(self, command_name=None):
        &#39;&#39;&#39;Prints help.

        Arguments
        ---------
        command_name : None or string
            The name of the command.
        &#39;&#39;&#39;
        if command_name is None:
            print(&#39;\n# List of commands:&#39;)
            
            for name, value in inspect.getmembers(self):
                
                if not inspect.ismethod(value):
                    continue

                helps = inspect.getdoc(value).split(&#39;\n&#39;)[0]

                print(f&#39;  {name: &gt;16}    {helps}&#39;)

            print(&#39;\nFor more instructions, try&#39;)
            print(&#39;  help [command_name]&#39;)
            print(&#39;  source [command name]&#39;)
        else:
            value = getattr(self, command_name, None)
            print()
            if value is not None:
                print(inspect.getdoc(value))
            print()

    def source(self, command_name):
        &#39;&#39;&#39;Prints the command&#39;s source code on screen (for help).
        &#39;&#39;&#39;
        val = getattr(self, command_name, None)
        if val is None:
            print(f&#39;No command named {val}&#39;)
            return

        source = inspect.getsource(val)

        print(f&#39;\nSource code of the &#34;{command_name}&#34; command (Python)\n&#39;)
        print(source)
        print(&#39;\nEnd of source.\n&#39;)

    def suffix(self, suffix):
        &#39;&#39;&#39;Set the suffix to add in the image folders&#39; save name

        Arguments
        ---------
        suffix : string
            The appendix to the image folder name
        &#39;&#39;&#39;

        # Replaces spaces by underscores
        if &#39; &#39; in suffix:
            suffix = suffix.replace(&#39; &#39;, &#39;_&#39;)
            print(&#39;Info: Replaced spaces in the suffix with underscores&#39;)
        
        # Replace illegal characters by x
        legal_suffix = &#34;&#34;
        for letter in suffix:
            if letter in string.ascii_letters+&#39;_()-&#39;+&#39;0123456789.&#39;:
                legal_suffix += letter
            else:
                print(&#39;Replacing illegal character {} with x&#39;.format(letter))
                legal_suffix += &#39;x&#39;
        
        print(&#39;Setting suffix {}&#39;.format(legal_suffix))
        self.core.set_subfolder_suffix(legal_suffix)


    def limitset(self, side, i_motor):
        &#39;&#39;&#39;Sets the current position as a limit for a motor.
        
        Arguments
        ---------
        side : string
            &#34;upper&#34; or &#34;lower&#34;
        i_motor : int
            Index of the motor.
        &#39;&#39;&#39;
        
        if side == &#39;upper&#39;:
            self.core.motors[i_motor].set_upper_limit()
        elif side == &#39;lower&#39;:
            self.core.motors[i_motor].set_lower_limit()
   

    def limitget(self, i_motor):
        &#39;&#39;&#39;
        Gets the current limits of a motor
        &#39;&#39;&#39;
        mlim = self.core.motors[i_motor].get_limits()
        print(&#39;  Motor {} limited at {} lower and {} upper&#39;.format(i_motor, *mlim))


    def where(self, i_motor):
        &#39;&#39;&#39;Prints the coordinates of the motor i_motor.

        Arguments
        ---------
        i_motor : int
            Index of the motor
        &#39;&#39;&#39;
        # Getting motor&#39;s position
        mpos = self.core.motors[motor].get_position()
        print(&#39;  Motor {} at {}&#39;.format(motor, mpos))


    def drive(self, i_motor, position):
        &#39;&#39;&#39;Drive i_motor to the given coordinates.

        Arguments
        ---------
        i_motor : int
            Index of the motor
        position : int or float
            The new position
        &#39;&#39;&#39;
        self.core.motors[i_motor].move_to(position)
        

    def macro(self, command, macro_name):
        &#39;&#39;&#39;Running and setting macros (automated imaging sequences).

        Arguments
        ---------
        command : string
            One of the following: run, list or stop
        macro_name : string
            The name of the macro.
        &#39;&#39;&#39;
        if command == &#39;run&#39;:
            self.core.run_macro(macro_name)
        elif command == &#39;list&#39;:

            print(&#39;Following macros are available&#39;)
            for line in self.core.list_macros():
                print(line)

        elif command == &#39;stop&#39;:
            for motor in self.core.motors:
                motor.stop()


    def set_roi(self, x,y,w,h, i_camera=None):
        &#39;&#39;&#39;Sets the camera crop or region of interest.

        Arguments
        ---------
        x, y, w, h : int
            Crop position and dimensions.
        i_camera : int or None
            The index of the camera to set the crop for.
            If not specified, uses the same crop for all the cameras.
        &#39;&#39;&#39;
        if i_camera is None:
            for camera in self.core.cameras:
                camera.set_roi((x,y,w,h))
        else:
            self.core.cameras[i_camera].set_roi( (x,y,w,h) )


    def eternal_repeat(self, isi):
        &#39;&#39;&#39;Repeats the imaging until the user hits enter.

        The save-suffix is appended with a running index.

        Arguments
        ---------
        isi : int
            In seconds, how long to wait between imagings
        &#39;&#39;&#39;

        isi = float(isi)
        print(isi)
        
        suffix = &#34;eternal_repeat_isi{}s&#34;.format(isi)
        suffix = suffix + &#34;_rep{}&#34;
        i_repeat = 0
        
        while True:
            self.suffix(suffix.format(i_repeat))

            start_time = time.time()
            
            if self.core.image_series(inter_loop_callback=self.image_series_callback) == False:
                break
            i_repeat += 1

            sleep_time = isi - float(time.time() - start_time)
            if sleep_time &gt; 0:
                time.sleep(sleep_time)


    def chain_presets(self, delay, *preset_names):
        &#39;&#39;&#39;Runs multiple presets all one after each other.

        The location (horizontal, vertical) should remain fixed.
        
        Arguments
        ---------
        delay : int or float
            In seconds, how long to wait between the presets.
        &#39;&#39;&#39;
        delay = float(delay)
        original_parameters = copy.copy(self.core.dynamic_parameters)

        
        print(&#39;Repeating presets {}&#39;.format(preset_names))
        for preset_name in preset_names:
            print(&#39;Preset {}&#39;.format(preset_name))
            
            self.core.load_preset(preset_name)
            
            if self.core.image_series(inter_loop_callback=self.image_series_callback) == False:
                break

            time.sleep(delay)

        print(&#39;Finished repeating presets&#39;)
        self.core.dynamic_parameters = original_parameters

            
    def set_rotation(self, horizontal, vertical):
        &#39;&#39;&#39;Sets the given rotation as the current one.
        &#39;&#39;&#39;
        ho = int(horizontal)
        ve = int(vertical)
        cho, cve = self.core.reader.latest_angle
        
        self.core.reader.offset = (cho-ho, cve-ve)


    def live(self):
        &#39;&#39;&#39;Toggles the cameras&#39; livefeed (running/paused).
        &#39;&#39;&#39;
        if self.core.pause_livefeed == True:
            self.core.pause_livefeed = False
        else:
            self.core.pause_livefeed = True

    def violive(self, duration=None):
        &#39;&#39;&#39;Toggles the vios&#39; livefeed (running/paused) or sets rec. dur.
        &#39;&#39;&#39;
        if duration is not None:
            duration = float(duration)
            self.core.vio_livefeed_dur = duration
        else:
            if self.core.vio_livefeed == True:
                self.core.vio_livefeed = False
            else:
                self.core.vio_livefeed = True


    def setoutput(self, device, channel, value):
        &#39;&#39;&#39;Sets an out-channel (eg. Dev1/ao1) to the given voltage value.
        &#39;&#39;&#39;
        try:
            self.core.set_led(f&#39;{device}/{channel}&#39;, float(value))
        except Exception as e:
            print(e)</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="gonioimsoft.tui.Console.chain_presets"><code class="name flex">
<span>def <span class="ident">chain_presets</span></span>(<span>self, delay, *preset_names)</span>
</code></dt>
<dd>
<div class="desc"><p>Runs multiple presets all one after each other.</p>
<p>The location (horizontal, vertical) should remain fixed.</p>
<h2 id="arguments">Arguments</h2>
<dl>
<dt><strong><code>delay</code></strong> :&ensp;<code>int</code> or <code>float</code></dt>
<dd>In seconds, how long to wait between the presets.</dd>
</dl></div>
</dd>
<dt id="gonioimsoft.tui.Console.drive"><code class="name flex">
<span>def <span class="ident">drive</span></span>(<span>self, i_motor, position)</span>
</code></dt>
<dd>
<div class="desc"><p>Drive i_motor to the given coordinates.</p>
<h2 id="arguments">Arguments</h2>
<dl>
<dt><strong><code>i_motor</code></strong> :&ensp;<code>int</code></dt>
<dd>Index of the motor</dd>
<dt><strong><code>position</code></strong> :&ensp;<code>int</code> or <code>float</code></dt>
<dd>The new position</dd>
</dl></div>
</dd>
<dt id="gonioimsoft.tui.Console.enter"><code class="name flex">
<span>def <span class="ident">enter</span></span>(<span>self, user_input)</span>
</code></dt>
<dd>
<div class="desc"><p>Parses the user input and runs the command.</p></div>
</dd>
<dt id="gonioimsoft.tui.Console.eternal_repeat"><code class="name flex">
<span>def <span class="ident">eternal_repeat</span></span>(<span>self, isi)</span>
</code></dt>
<dd>
<div class="desc"><p>Repeats the imaging until the user hits enter.</p>
<p>The save-suffix is appended with a running index.</p>
<h2 id="arguments">Arguments</h2>
<dl>
<dt><strong><code>isi</code></strong> :&ensp;<code>int</code></dt>
<dd>In seconds, how long to wait between imagings</dd>
</dl></div>
</dd>
<dt id="gonioimsoft.tui.Console.help"><code class="name flex">
<span>def <span class="ident">help</span></span>(<span>self, command_name=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Prints help.</p>
<h2 id="arguments">Arguments</h2>
<dl>
<dt><strong><code>command_name</code></strong> :&ensp;<code>None</code> or <code>string</code></dt>
<dd>The name of the command.</dd>
</dl></div>
</dd>
<dt id="gonioimsoft.tui.Console.limitget"><code class="name flex">
<span>def <span class="ident">limitget</span></span>(<span>self, i_motor)</span>
</code></dt>
<dd>
<div class="desc"><p>Gets the current limits of a motor</p></div>
</dd>
<dt id="gonioimsoft.tui.Console.limitset"><code class="name flex">
<span>def <span class="ident">limitset</span></span>(<span>self, side, i_motor)</span>
</code></dt>
<dd>
<div class="desc"><p>Sets the current position as a limit for a motor.</p>
<h2 id="arguments">Arguments</h2>
<dl>
<dt><strong><code>side</code></strong> :&ensp;<code>string</code></dt>
<dd>"upper" or "lower"</dd>
<dt><strong><code>i_motor</code></strong> :&ensp;<code>int</code></dt>
<dd>Index of the motor.</dd>
</dl></div>
</dd>
<dt id="gonioimsoft.tui.Console.live"><code class="name flex">
<span>def <span class="ident">live</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Toggles the cameras' livefeed (running/paused).</p></div>
</dd>
<dt id="gonioimsoft.tui.Console.macro"><code class="name flex">
<span>def <span class="ident">macro</span></span>(<span>self, command, macro_name)</span>
</code></dt>
<dd>
<div class="desc"><p>Running and setting macros (automated imaging sequences).</p>
<h2 id="arguments">Arguments</h2>
<dl>
<dt><strong><code>command</code></strong> :&ensp;<code>string</code></dt>
<dd>One of the following: run, list or stop</dd>
<dt><strong><code>macro_name</code></strong> :&ensp;<code>string</code></dt>
<dd>The name of the macro.</dd>
</dl></div>
</dd>
<dt id="gonioimsoft.tui.Console.set_roi"><code class="name flex">
<span>def <span class="ident">set_roi</span></span>(<span>self, x, y, w, h, i_camera=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Sets the camera crop or region of interest.</p>
<h2 id="arguments">Arguments</h2>
<dl>
<dt><strong><code>x</code></strong>, <strong><code>y</code></strong>, <strong><code>w</code></strong>, <strong><code>h</code></strong> :&ensp;<code>int</code></dt>
<dd>Crop position and dimensions.</dd>
<dt><strong><code>i_camera</code></strong> :&ensp;<code>int</code> or <code>None</code></dt>
<dd>The index of the camera to set the crop for.
If not specified, uses the same crop for all the cameras.</dd>
</dl></div>
</dd>
<dt id="gonioimsoft.tui.Console.set_rotation"><code class="name flex">
<span>def <span class="ident">set_rotation</span></span>(<span>self, horizontal, vertical)</span>
</code></dt>
<dd>
<div class="desc"><p>Sets the given rotation as the current one.</p></div>
</dd>
<dt id="gonioimsoft.tui.Console.setoutput"><code class="name flex">
<span>def <span class="ident">setoutput</span></span>(<span>self, device, channel, value)</span>
</code></dt>
<dd>
<div class="desc"><p>Sets an out-channel (eg. Dev1/ao1) to the given voltage value.</p></div>
</dd>
<dt id="gonioimsoft.tui.Console.source"><code class="name flex">
<span>def <span class="ident">source</span></span>(<span>self, command_name)</span>
</code></dt>
<dd>
<div class="desc"><p>Prints the command's source code on screen (for help).</p></div>
</dd>
<dt id="gonioimsoft.tui.Console.suffix"><code class="name flex">
<span>def <span class="ident">suffix</span></span>(<span>self, suffix)</span>
</code></dt>
<dd>
<div class="desc"><p>Set the suffix to add in the image folders' save name</p>
<h2 id="arguments">Arguments</h2>
<dl>
<dt><strong><code>suffix</code></strong> :&ensp;<code>string</code></dt>
<dd>The appendix to the image folder name</dd>
</dl></div>
</dd>
<dt id="gonioimsoft.tui.Console.violive"><code class="name flex">
<span>def <span class="ident">violive</span></span>(<span>self, duration=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Toggles the vios' livefeed (running/paused) or sets rec. dur.</p></div>
</dd>
<dt id="gonioimsoft.tui.Console.where"><code class="name flex">
<span>def <span class="ident">where</span></span>(<span>self, i_motor)</span>
</code></dt>
<dd>
<div class="desc"><p>Prints the coordinates of the motor i_motor.</p>
<h2 id="arguments">Arguments</h2>
<dl>
<dt><strong><code>i_motor</code></strong> :&ensp;<code>int</code></dt>
<dd>Index of the motor</dd>
</dl></div>
</dd>
</dl>
</dd>
<dt id="gonioimsoft.tui.GonioImsoftTUI"><code class="flex name class">
<span>class <span class="ident">GonioImsoftTUI</span></span>
</code></dt>
<dd>
<div class="desc"><p>Terminal user interface for goniometric imaging.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>core</code></strong> :&ensp;<code>obj</code></dt>
<dd>The GonioImsoftCore instance</dd>
<dt><strong><code>console</code></strong> :&ensp;<code>object</code></dt>
<dd>&nbsp;</dd>
<dt><strong><code>main_menu</code></strong> :&ensp;<code>list</code></dt>
<dd>Main choices</dd>
<dt><strong><code>quit</code></strong> :&ensp;<code>bool</code></dt>
<dd>If changes to True, quit.</dd>
<dt><strong><code>expfn</code></strong> :&ensp;<code>string</code></dt>
<dd>Filename of the experiments.json file</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class GonioImsoftTUI:
    &#39;&#39;&#39;Terminal user interface for goniometric imaging.

    Attributes
    ----------
    core : obj
        The GonioImsoftCore instance
    console : object
    main_menu : list
        Main choices
    quit : bool
        If changes to True, quit.
    expfn : string
        Filename of the experiments.json file
    &#39;&#39;&#39;
    def __init__(self):
        
        self.libui = SimpleTUI()
        self.core = GonioImsoftCore()

        self.console = Console(self.core)
        self.console.image_series_callback = self.image_series_callback


        # Get experimenters list or if not present, use default
        self.expfn = os.path.join(USERDATA_DIR, &#39;experimenters.json&#39;)
        if os.path.exists(self.expfn):
            try:
                with open(self.expfn, &#39;r&#39;) as fp: self.experimenters = json.load(fp)
            except:
                self.experimenters = [&#39;gonioims&#39;]
        else:
            self.experimenters = [&#39;gonioims&#39;]
        


        self.experimenter = None    # name of the experimenter
        self.quit = False


    @property
    def main_menu(self):
        menu = [
                [&#39;Normal imaging&#39;, self.loop_dynamic],
                [&#39;Step-trigger imaging (takes an image on each goniometer step)&#39;, self.loop_static],
                [&#39;Step-trigger (triggers only; use external camera software)&#39;, self.loop_trigger],
                [&#39;\n&#39;, None],
                [f&#39;Change savefolder (current: {self.experimenter})&#39;, self._run_experimenter_select],
                [&#39;Quit&#39;, self.quit],
                [&#39;\n&#39;, None],
                [&#39;Add all local cameras&#39;, self.add_all_local_cameras],
                [&#39;Add a local camera&#39;, self.add_local_camera],
                [&#39;Add a remote camera&#39;, self.add_remote_camera],
                [&#39;Edit camera settings&#39;, self.camera_settings_edit],
                [&#39;Remove camera&#39;, self.remove_camera],
                [&#39;\n&#39;, None],
                [&#39;Add a local vio&#39;, self.add_local_vio],
                [&#39;Add a remote vio&#39;, self.add_remote_vio],
                [&#39;Remove vio&#39;, self.remove_vio],
                ]
        return menu


    def _add_camera(self, client, camera=None):
        &#39;&#39;&#39;Lets the user to select the camera for this client

        Arguments
        ---------
        client : CameraClient object
            The client that we select the used camera for
        camera : string or None
            If not None, use this camera instead of letting
            the user to select a camera.
        &#39;&#39;&#39;
        if camera is None:
            cameras = client.get_cameras()
            camera = self.libui.item_select(
                    cameras, &#39;Select a camera&#39;)
        
        client.set_camera(camera)
        
        try:
            client.load_state(&#39;previous&#39;)
        except FileNotFoundError:
            self.libui.print(&#39;Could not find previous settings for this camera&#39;) 


    def _add_vio(self, client):
        cancels = &#39;back&#39;

        device = self.libui.input(&#39;Device&#39;, cancels)
        channels = self.libui.input(&#39;Channels (comma separated)&#39;, cancels)
        fs = self.libui.input(&#39;Sampling frequency (Hz)&#39;, cancels)

        client.set_settings(device, channels, fs)

    def add_all_local_cameras(self):
        &#39;&#39;&#39;Add all local cameras, in the order of alphabetical sort.
        &#39;&#39;&#39;
        client = self.core.add_camera_client(None, None)
        cameras = client.get_cameras()
        
        if not cameras:
            self.core.remove_camera_client(client)
            return None

        cameras.sort()
        self._add_camera(client, cameras[0])
        self.libui.print(f&#39;Added camera {cameras[0]}&#39;) 

        if len(cameras) &gt; 1:
            for camera in cameras[1:]:
                client = self.core.add_camera_client(None, None)
                self._add_camera(client, camera)
                self.libui.print(f&#39;Added camera {camera}&#39;) 


    def add_local_camera(self):
        &#39;&#39;&#39;Add a camera from a local camera server.
        &#39;&#39;&#39;
        client = self.core.add_camera_client(None, None)
        self._add_camera(client)


    def add_local_vio(self):
        &#39;&#39;&#39;Start a local vio server and a client.
        &#39;&#39;&#39;
        client = self.core.add_vio_client(None, None)
        self._add_vio(client)


    def _add_remote_client(self, name):
        if name == &#39;camera&#39;:
            addfunc = self.core.add_camera_client
        elif name == &#39;vio&#39;:
            addfunc = self.core.add_vio_client
        else:
            raise ValueError

        cancels = &#39;back&#39;
        self.libui.print(f&#39;# Type in {cancels} to cancel&#39;)

        host = self.libui.input(&#39;IP address or hostname&#39;, cancels)
        if host is None:
            return
        port = self.libui.input(&#39;Port (leave blank for default): &#39;, cancels)
        if port is None:
            return

        if port == &#39;&#39;:
            port = None
        else:
            port = int(port)

        client = addfunc(host, port)
        
        while not client.is_server_running():
            print(&#39;Waiting the server to come up...&#39;)
            time.sleep(1)

        if not client.is_server_running():
            self.libui.print(&#39;Cannot connect to the server&#39;)
        else:
            if name == &#39;camera&#39;:
                self._add_camera(client)
            else:
                self._add_vio(client)

    
    def add_remote_camera(self):
        self._add_remote_client(&#39;camera&#39;)
    
    def add_remote_vio(self):
        self._add_remote_client(&#39;vio&#39;)



    def remove_camera(self):
        names = [cam.get_camera() for cam in self.core.cameras]
        selection = self.libui.item_select(
                names+[&#39;..back&#39;], &#39;Select camera to remove&#39;)

        if selection != &#39;..back&#39;:
            index = names.index(selection)
            self.core.remove_camera_client(index)

    def remove_vio(self):
        names = [f&#39;vio_{i}&#39; for i, vio in enumerate(self.core.vios)]
        selection = self.libui.item_select(
                names+[&#39;..back&#39;], &#39;Select camera to remove&#39;)

        if selection != &#39;..back&#39;:
            index = names.index(selection)
            self.core.remove_vio_client(index)

   

    @property
    def menutext(self):
        cam = &#39;&#39;

        # Check camera server status
        for i_camera, camera in enumerate(self.core.cameras):
            if camera.is_server_running():
                cam_name = camera.get_camera()
                if cam_name:
                    cs = f&#39;{cam_name}\n&#39;
                else:
                    cs = &#39;No camera selected\n&#39;
            else:
                cs = &#39;Offline&#39;

            cam += f&#39;Cam{i_camera} {cs}&#39;

        if not self.core.cameras:
            cam = &#39;No cameras&#39;

        # Check serial (Arduino) status
        ser = self.core.reader.serial
        if ser is None:
            ar = &#39;Serial UNAVAIBLE&#39;
        else:
            if ser.is_open:
                ar = &#39;Serial OPEN ({} @{} Bd)&#39;.format(
                        ser.port, ser.baudrate)
            else:
                ar = &#39;Serial CLOSED&#39;

        # Check DAQ
        if nidaqmx is None:
            daq = &#39;UNAVAILABLE&#39;
        else:
            daq = &#39;AVAILABLE&#39;

        status = &#34;\n {} | {} | nidaqmx {}&#34;.format(cam, ar, daq)
        
        menutext = &#34;GonioImsoft - Version {}&#34;.format(__version__)
        menutext += &#34;\n&#34; + max(len(menutext), len(status)) * &#34;-&#34;
        menutext += status
        return menutext + &#34;\n&#34;


    def loop_trigger(self):
        &#39;&#39;&#39;
        Simply NI trigger when change in rotatory encoders, leaving camera control
        to an external software (the original loop static).
        
        Space to toggle triggering.
        &#39;&#39;&#39;
        self.loop_dynamic(static=True, camera=False)
                

    def loop_static(self):
        &#39;&#39;&#39;
        Running the static imaging protocol.
        &#39;&#39;&#39;
        self.loop_dynamic(static=True)
        

    def image_series_callback(self, label, i_repeat):
        &#39;&#39;&#39;
        Callback passed to image_series
        &#39;&#39;&#39;
        if label:
            print(label)
        
        key = self.libui.read_key()

        if key == &#39;\r&#39;:
            # If Enter presed return False, stopping the imaging
            print(&#39;User pressed enter, stopping imaging&#39;)
            return False
        else:
            return True


    def loop_dynamic(self, static=False, camera=True):
        &#39;&#39;&#39;
        Running the dynamic imaging protocol.

        static : bool
            If False, run normal imaging where pressing space runs the imaging protocol.
            If True, run imaging when change in rotary encoders (space-key toggled)
        camera : bool
            If True, control camera.
            If False, assume that external program is controlling the camera, and send trigger
        &#39;&#39;&#39;
        trigger = False
        
        self.core.set_savedir(os.path.join(&#39;imaging_data_&#39;+self.experimenter), camera=camera)

        cancels = &#39;back&#39;
        self.libui.print(f&#39;# Enter specimen metadata (enter {cancels} to cancel)\n&#39;)

        name = self.libui.input(
                &#39;Name ({})&#39;.format(self.core.preparation[&#39;name&#39;]), cancels)
        if name is None: return

        sex = self.libui.input(
                &#39;Sex ({})&#39;.format(self.core.preparation[&#39;sex&#39;]), cancels)
        if sex is None: return

        age = self.libui.input(
                &#39;Age ({})&#39;.format(self.core.preparation[&#39;age&#39;]), cancels)
        if age is None: return

        if self.core.initialize(
                name, sex, age, camera=camera, libui=self.libui) is None:
            return

        upper_lines = [&#39;-&#39;,&#39;Dynamic imaging&#39;, &#39;-&#39;, &#39;Help F1&#39;, &#39;Space &#39;]

        self.libui.clear_screen()


        help_string = &#34;# This part of the program works by keyboard shortcuts\n&#34;
        if static:
            help_string += &#39;#   space      Toggle trigger-by-rotation on/off\n&#39;
        else:
            help_string += &#34;#   space      Run imaging\n&#34;
        help_string += (
                &#39;#   enter      Return back to the main menu\n&#39;
                &#34;#   0          Set current rotation as (0,0)\n&#34;
                &#34;#   s          Take a snap image\n&#34;
                &#39;#   e          Edit imaging parameters again\n&#39;
                &#39;#   h          Print this help again\n&#39;
                &#34;#   ` (tilde)  Open command console (type in help for help)\n&#34;
                &#34;# \n&#34;
                &#34;# Rotation stage changes will be printed here.\n&#34;
                )
        if not self.core.cameras:
            help_string += (
                    &#39;# You have not added any cameras. Space now triggers only.\n&#39;
                    &#39;# Return to the main menu to add cameras.\n&#39;
                    )
        else:
            help_string += (
                    &#39;# Separate windows for the added cameras should open\n&#39;
                    )


        self.libui.print(help_string)

        while True:
            
            lines = upper_lines

            key = self.libui.read_key()

            if static:
                if trigger and self.core.trigger_rotation:
                    if camera:
                        self.core.image_series(inter_loop_callback=self.image_series_callback)
                    else:
                        self.core.send_trigger()
                if key == &#39; &#39;:
                    trigger = not trigger
                    print(&#39;Rotation triggering now set to {}&#39;.format(trigger))
            else:
                if key == &#39; &#39;:
                    if camera:
                        self.core.image_series(inter_loop_callback=self.image_series_callback)
                    else:
                        self.core.send_trigger()
            
            if key == 112:
                lines.append(&#39;&#39;)
            elif key == &#39;0&#39;:
                self.core.set_zero()
            elif key == &#39;s&#39;:
                if camera:
                    self.core.take_snap(save=True)
            elif key in [&#39;\r&#39;, &#39;\n&#39;]:
                # If user hits enter we&#39;ll exit
                break
            elif key == &#39;e&#39;:
                if self.core.initialize(name, sex, age, camera=camera) is None:
                    continue
            elif key == &#39;h&#39;:
                self.libui.print(help_string)
            elif self.core.motors:
                if key == &#39;[&#39;:
                    self.core.motors[0].move_raw(-1)
                elif key == &#39;]&#39;:
                    self.core.motors[0].move_raw(1)
                
                elif key == &#39;o&#39;:
                    self.core.motors[1].move_raw(-1)
                elif key == &#39;p&#39;:
                    self.core.motors[1].move_raw(1)

                elif key == &#39;l&#39;:
                    self.core.motors[2].move_raw(-1)
                elif key == &#39;;&#39;:
                    self.core.motors[2].move_raw(1)
            elif key == &#39;`&#39;:
                user_input = self.libui.input(&#34;Type command &gt;&gt; &#34;, &#39;&#39;)
                if user_input is None:
                    continue
                self.console.enter(user_input)

            elif key == &#39;&#39; and not (static and self.core.trigger_rotation):
                if camera:
                    # When there&#39;s no input just update the live feed
                    self.core.take_snap(save=False)
            
            
            #self._clearScreen()
            #self._print_lines(lines)

            self.core.tick()

        self.core.finalize()


    
    def _run_firstrun(self):
        message = (
                &#39;\nHello and welcome! This is your first run.\n&#39;
                &#39;\n&#39;
                &#39;GonioImsoft needs a location &#39;
                &#39;to save user files\n- list of savefolders\n&#39;
                &#39;- camera states\n&#39;
                &#39;- macros\n&#39;
                &#39;- presets\n&#39;
                &#39;\n&#39;
                f&#39;The location is {os.path.abspath(USERDATA_DIR)}\n&#39;
                &#39;No imaging data or big files will be saved here.\n&#39;
                f&#39;\nCreate {USERDATA_DIR}? (yes recommended)\n&#39;
                )
        if self.libui.bool_select(message):
            initialize_userdata()
            print(&#39;Success!&#39;)
            time.sleep(2)
        else:
            print(&#39;Warning! Cannot save any changes&#39;)
            time.sleep(2)


    def _run_experimenter_select(self):

        if self.experimenter is not None:
            self.libui.print(f&#39;Current savefolder: {self.experimenter}&#39;)

        extra_options = [&#39; (Add new)&#39;, &#39; (Remove old)&#39;, &#39; (Save current list)&#39;]

        self.libui.print(&#39;Select savefolder\n--------------------&#39;)
        while True:
            # Select operation
            selection = self.libui.item_select(self.experimenters+extra_options) 

            self.libui.clear_screen()
            
            # add new
            if selection == extra_options[0]:
                cancels = &#39;back&#39;
                self.libui.print(f&#39;# Adding new user (enter {cancels} to cancel)&#39;)
                name = self.libui.input(&#39;Name &gt;&gt;&#39;, cancels)
                if name is None:
                    continue
                self.experimenters.append(name)

            # remove old
            elif selection == extra_options[1]:
                self.libui.print(&#39;Select who to remove (data remains)&#39;)
                
                to_delete_name = self.libui.item_select(
                        self.experimenters+[&#39;..back (no deletion)&#39;])

                if to_delete_name in self.experimenters:
                    self.experimenters.pop(self.experimenters.index(to_delete_name))

            # save current
            elif selection == extra_options[2]:
                if os.path.isdir(USERDATA_DIR):
                    with open(self.expfn, &#39;w&#39;) as fp: json.dump(self.experimenters, fp)
                    print(&#39;Saved!&#39;)
                else:
                    print(f&#39;Saving failed (no {USERDATA_DIR})&#39;)
                time.sleep(2)
            else:
                # Got a name
                break

            self.libui.clear_screen()

        self.experimenter = selection
 

    def run(self):
        &#39;&#39;&#39;
        Run TUI until user quitting.
        &#39;&#39;&#39;
        
        self.libui.header = self.menutext
        self.libui.clear_screen()
 
        # Check if userdata directory settings exists
        # If not, ask to create it
        if not IS_USERDATA_INITIALIZED:
            self._run_firstrun()
            self.libui.clear_screen()
        else:
            # Already initialized, just check all subfolders present
            # in newer versions are also there
            initialize_userdata()
        
        self._run_experimenter_select()
        self.libui.clear_screen()

        self.quit = False
        while not self.quit:
            self.libui.clear_screen()
            
            menuitems = [x[0] for x in self.main_menu]
            
            # Blocking call here
            selection = self.libui.item_select(menuitems)

            self.libui.clear_screen()
            self.main_menu[menuitems.index(selection)][1]()

            # Update status menu and clear screen
            self.libui.header = self.menutext

        self.core.exit()

    
    def camera_settings_edit(self):
        &#39;&#39;&#39;View to select a camera and edit it&#39;s settings
        &#39;&#39;&#39;
        
        while True:

            camera = self.libui.item_select(
                    self.core.cameras+[&#39;..back&#39;],
                    &#34;Select the camera to edit&#34;)
            
            if camera == &#39;..back&#39;:
                break
            
            while True:
                setting_name = self.libui.item_select(
                        camera.get_settings()+[&#39;..back&#39;],
                        &#34;Select the setting to edit&#34;)

                if setting_name == &#39;..back&#39;:
                    break
                
                value = camera.get_setting(setting_name)
                value_type = camera.get_setting_type(setting_name)

                self.libui.print(f&#39;{setting_name} ({value_type})&#39;)
                self.libui.print(f&#39;Current value: {value}&#39;)
                new_value = self.libui.input(&#39;New value: &#39;)

                camera.set_setting(setting_name, new_value)
                
                self.libui.clear_screen()
                
                camera.save_state(&#39;previous&#39;)

    def quit(self):
        self.quit = True</code></pre>
</details>
<h3>Instance variables</h3>
<dl>
<dt id="gonioimsoft.tui.GonioImsoftTUI.main_menu"><code class="name">prop <span class="ident">main_menu</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def main_menu(self):
    menu = [
            [&#39;Normal imaging&#39;, self.loop_dynamic],
            [&#39;Step-trigger imaging (takes an image on each goniometer step)&#39;, self.loop_static],
            [&#39;Step-trigger (triggers only; use external camera software)&#39;, self.loop_trigger],
            [&#39;\n&#39;, None],
            [f&#39;Change savefolder (current: {self.experimenter})&#39;, self._run_experimenter_select],
            [&#39;Quit&#39;, self.quit],
            [&#39;\n&#39;, None],
            [&#39;Add all local cameras&#39;, self.add_all_local_cameras],
            [&#39;Add a local camera&#39;, self.add_local_camera],
            [&#39;Add a remote camera&#39;, self.add_remote_camera],
            [&#39;Edit camera settings&#39;, self.camera_settings_edit],
            [&#39;Remove camera&#39;, self.remove_camera],
            [&#39;\n&#39;, None],
            [&#39;Add a local vio&#39;, self.add_local_vio],
            [&#39;Add a remote vio&#39;, self.add_remote_vio],
            [&#39;Remove vio&#39;, self.remove_vio],
            ]
    return menu</code></pre>
</details>
</dd>
<dt id="gonioimsoft.tui.GonioImsoftTUI.menutext"><code class="name">prop <span class="ident">menutext</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def menutext(self):
    cam = &#39;&#39;

    # Check camera server status
    for i_camera, camera in enumerate(self.core.cameras):
        if camera.is_server_running():
            cam_name = camera.get_camera()
            if cam_name:
                cs = f&#39;{cam_name}\n&#39;
            else:
                cs = &#39;No camera selected\n&#39;
        else:
            cs = &#39;Offline&#39;

        cam += f&#39;Cam{i_camera} {cs}&#39;

    if not self.core.cameras:
        cam = &#39;No cameras&#39;

    # Check serial (Arduino) status
    ser = self.core.reader.serial
    if ser is None:
        ar = &#39;Serial UNAVAIBLE&#39;
    else:
        if ser.is_open:
            ar = &#39;Serial OPEN ({} @{} Bd)&#39;.format(
                    ser.port, ser.baudrate)
        else:
            ar = &#39;Serial CLOSED&#39;

    # Check DAQ
    if nidaqmx is None:
        daq = &#39;UNAVAILABLE&#39;
    else:
        daq = &#39;AVAILABLE&#39;

    status = &#34;\n {} | {} | nidaqmx {}&#34;.format(cam, ar, daq)
    
    menutext = &#34;GonioImsoft - Version {}&#34;.format(__version__)
    menutext += &#34;\n&#34; + max(len(menutext), len(status)) * &#34;-&#34;
    menutext += status
    return menutext + &#34;\n&#34;</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="gonioimsoft.tui.GonioImsoftTUI.add_all_local_cameras"><code class="name flex">
<span>def <span class="ident">add_all_local_cameras</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Add all local cameras, in the order of alphabetical sort.</p></div>
</dd>
<dt id="gonioimsoft.tui.GonioImsoftTUI.add_local_camera"><code class="name flex">
<span>def <span class="ident">add_local_camera</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Add a camera from a local camera server.</p></div>
</dd>
<dt id="gonioimsoft.tui.GonioImsoftTUI.add_local_vio"><code class="name flex">
<span>def <span class="ident">add_local_vio</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Start a local vio server and a client.</p></div>
</dd>
<dt id="gonioimsoft.tui.GonioImsoftTUI.add_remote_camera"><code class="name flex">
<span>def <span class="ident">add_remote_camera</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.tui.GonioImsoftTUI.add_remote_vio"><code class="name flex">
<span>def <span class="ident">add_remote_vio</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.tui.GonioImsoftTUI.camera_settings_edit"><code class="name flex">
<span>def <span class="ident">camera_settings_edit</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>View to select a camera and edit it's settings</p></div>
</dd>
<dt id="gonioimsoft.tui.GonioImsoftTUI.image_series_callback"><code class="name flex">
<span>def <span class="ident">image_series_callback</span></span>(<span>self, label, i_repeat)</span>
</code></dt>
<dd>
<div class="desc"><p>Callback passed to image_series</p></div>
</dd>
<dt id="gonioimsoft.tui.GonioImsoftTUI.loop_dynamic"><code class="name flex">
<span>def <span class="ident">loop_dynamic</span></span>(<span>self, static=False, camera=True)</span>
</code></dt>
<dd>
<div class="desc"><p>Running the dynamic imaging protocol.</p>
<p>static : bool
If False, run normal imaging where pressing space runs the imaging protocol.
If True, run imaging when change in rotary encoders (space-key toggled)
camera : bool
If True, control camera.
If False, assume that external program is controlling the camera, and send trigger</p></div>
</dd>
<dt id="gonioimsoft.tui.GonioImsoftTUI.loop_static"><code class="name flex">
<span>def <span class="ident">loop_static</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Running the static imaging protocol.</p></div>
</dd>
<dt id="gonioimsoft.tui.GonioImsoftTUI.loop_trigger"><code class="name flex">
<span>def <span class="ident">loop_trigger</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Simply NI trigger when change in rotatory encoders, leaving camera control
to an external software (the original loop static).</p>
<p>Space to toggle triggering.</p></div>
</dd>
<dt id="gonioimsoft.tui.GonioImsoftTUI.quit"><code class="name flex">
<span>def <span class="ident">quit</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.tui.GonioImsoftTUI.remove_camera"><code class="name flex">
<span>def <span class="ident">remove_camera</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.tui.GonioImsoftTUI.remove_vio"><code class="name flex">
<span>def <span class="ident">remove_vio</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="gonioimsoft.tui.GonioImsoftTUI.run"><code class="name flex">
<span>def <span class="ident">run</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Run TUI until user quitting.</p></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<a href='../index.html'><- Back to All Docs</a><br>
<a href="javascript:history.back()"><- Back one page</a>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="gonioimsoft" href="index.html">gonioimsoft</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="gonioimsoft.tui.main" href="#gonioimsoft.tui.main">main</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="gonioimsoft.tui.Console" href="#gonioimsoft.tui.Console">Console</a></code></h4>
<ul class="two-column">
<li><code><a title="gonioimsoft.tui.Console.chain_presets" href="#gonioimsoft.tui.Console.chain_presets">chain_presets</a></code></li>
<li><code><a title="gonioimsoft.tui.Console.drive" href="#gonioimsoft.tui.Console.drive">drive</a></code></li>
<li><code><a title="gonioimsoft.tui.Console.enter" href="#gonioimsoft.tui.Console.enter">enter</a></code></li>
<li><code><a title="gonioimsoft.tui.Console.eternal_repeat" href="#gonioimsoft.tui.Console.eternal_repeat">eternal_repeat</a></code></li>
<li><code><a title="gonioimsoft.tui.Console.help" href="#gonioimsoft.tui.Console.help">help</a></code></li>
<li><code><a title="gonioimsoft.tui.Console.limitget" href="#gonioimsoft.tui.Console.limitget">limitget</a></code></li>
<li><code><a title="gonioimsoft.tui.Console.limitset" href="#gonioimsoft.tui.Console.limitset">limitset</a></code></li>
<li><code><a title="gonioimsoft.tui.Console.live" href="#gonioimsoft.tui.Console.live">live</a></code></li>
<li><code><a title="gonioimsoft.tui.Console.macro" href="#gonioimsoft.tui.Console.macro">macro</a></code></li>
<li><code><a title="gonioimsoft.tui.Console.set_roi" href="#gonioimsoft.tui.Console.set_roi">set_roi</a></code></li>
<li><code><a title="gonioimsoft.tui.Console.set_rotation" href="#gonioimsoft.tui.Console.set_rotation">set_rotation</a></code></li>
<li><code><a title="gonioimsoft.tui.Console.setoutput" href="#gonioimsoft.tui.Console.setoutput">setoutput</a></code></li>
<li><code><a title="gonioimsoft.tui.Console.source" href="#gonioimsoft.tui.Console.source">source</a></code></li>
<li><code><a title="gonioimsoft.tui.Console.suffix" href="#gonioimsoft.tui.Console.suffix">suffix</a></code></li>
<li><code><a title="gonioimsoft.tui.Console.violive" href="#gonioimsoft.tui.Console.violive">violive</a></code></li>
<li><code><a title="gonioimsoft.tui.Console.where" href="#gonioimsoft.tui.Console.where">where</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="gonioimsoft.tui.GonioImsoftTUI" href="#gonioimsoft.tui.GonioImsoftTUI">GonioImsoftTUI</a></code></h4>
<ul class="">
<li><code><a title="gonioimsoft.tui.GonioImsoftTUI.add_all_local_cameras" href="#gonioimsoft.tui.GonioImsoftTUI.add_all_local_cameras">add_all_local_cameras</a></code></li>
<li><code><a title="gonioimsoft.tui.GonioImsoftTUI.add_local_camera" href="#gonioimsoft.tui.GonioImsoftTUI.add_local_camera">add_local_camera</a></code></li>
<li><code><a title="gonioimsoft.tui.GonioImsoftTUI.add_local_vio" href="#gonioimsoft.tui.GonioImsoftTUI.add_local_vio">add_local_vio</a></code></li>
<li><code><a title="gonioimsoft.tui.GonioImsoftTUI.add_remote_camera" href="#gonioimsoft.tui.GonioImsoftTUI.add_remote_camera">add_remote_camera</a></code></li>
<li><code><a title="gonioimsoft.tui.GonioImsoftTUI.add_remote_vio" href="#gonioimsoft.tui.GonioImsoftTUI.add_remote_vio">add_remote_vio</a></code></li>
<li><code><a title="gonioimsoft.tui.GonioImsoftTUI.camera_settings_edit" href="#gonioimsoft.tui.GonioImsoftTUI.camera_settings_edit">camera_settings_edit</a></code></li>
<li><code><a title="gonioimsoft.tui.GonioImsoftTUI.image_series_callback" href="#gonioimsoft.tui.GonioImsoftTUI.image_series_callback">image_series_callback</a></code></li>
<li><code><a title="gonioimsoft.tui.GonioImsoftTUI.loop_dynamic" href="#gonioimsoft.tui.GonioImsoftTUI.loop_dynamic">loop_dynamic</a></code></li>
<li><code><a title="gonioimsoft.tui.GonioImsoftTUI.loop_static" href="#gonioimsoft.tui.GonioImsoftTUI.loop_static">loop_static</a></code></li>
<li><code><a title="gonioimsoft.tui.GonioImsoftTUI.loop_trigger" href="#gonioimsoft.tui.GonioImsoftTUI.loop_trigger">loop_trigger</a></code></li>
<li><code><a title="gonioimsoft.tui.GonioImsoftTUI.main_menu" href="#gonioimsoft.tui.GonioImsoftTUI.main_menu">main_menu</a></code></li>
<li><code><a title="gonioimsoft.tui.GonioImsoftTUI.menutext" href="#gonioimsoft.tui.GonioImsoftTUI.menutext">menutext</a></code></li>
<li><code><a title="gonioimsoft.tui.GonioImsoftTUI.quit" href="#gonioimsoft.tui.GonioImsoftTUI.quit">quit</a></code></li>
<li><code><a title="gonioimsoft.tui.GonioImsoftTUI.remove_camera" href="#gonioimsoft.tui.GonioImsoftTUI.remove_camera">remove_camera</a></code></li>
<li><code><a title="gonioimsoft.tui.GonioImsoftTUI.remove_vio" href="#gonioimsoft.tui.GonioImsoftTUI.remove_vio">remove_vio</a></code></li>
<li><code><a title="gonioimsoft.tui.GonioImsoftTUI.run" href="#gonioimsoft.tui.GonioImsoftTUI.run">run</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.11.1</a>.</p>
</footer>
</body>
</html>
